<?xml version="1.0"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <xs:element name="mephi" type="university"/>
    <xs:element name="МИФИ" substitutionGroup="mephi"/>

    <xs:element name="faculty" type="faculty"/>
    <xs:element name="факультет" substitutionGroup="faculty"/>

    <xs:complexType name="university">
        <xs:all>
            <xs:element ref="faculty"/>
        </xs:all>
    </xs:complexType>

    <xs:complexType name="faculty">
        <xs:sequence>
            <xs:element ref="title"/>
            <xs:element ref="department" maxOccurs="10"/>
        </xs:sequence>
    </xs:complexType>

    <xs:element name="title" type="title"/>
    <xs:element name="название" substitutionGroup="title"/>

    <xs:simpleType name="title">
        <xs:restriction base="xs:string">
                        <xs:pattern value="[A-Za-z0-9-]*"/>
                    </xs:restriction>
    </xs:simpleType>

    <xs:element name="department" type="department"/>
    <xs:element name="кафедра" substitutionGroup="department"/>

    <xs:complexType name="department">
        <xs:sequence>
            <xs:element name="title" type="xs:string"/>
            <xs:element ref="number"/>
            <xs:element ref="group" minOccurs="1"/>
        </xs:sequence>
    </xs:complexType>

    <xs:element name="number" type="number"/>
    <xs:element name="номер" substitutionGroup="number"/>

    <xs:simpleType name="number">
        <xs:restriction base="xs:positiveInteger">
                        <xs:fractionDigits value="2"/>
                    </xs:restriction>
    </xs:simpleType>

    <xs:element name="group" type="group"/>
    <xs:element name="группа" substitutionGroup="group"/>

    <xs:complexType name="group">
        <xs:sequence>
            <xs:element ref="title"/>
            <xs:element minOccurs="1" ref="student"/>
        </xs:sequence>
    </xs:complexType>

    <xs:element name="student" type="student"/>
    <xs:element name="студент" substitutionGroup="student"/>

    <xs:complexType name="student">
        <xs:complexContent>
            <xs:extension base="person">
                <xs:attribute name="nomer_zachotkee"/>
                <xs:attribute name = "entered" type="number"/>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:complexType name="person">
        <xs:attribute name="name" type="xs:string"/>
        <xs:attribute name="born" type="xs:integer"/>
    </xs:complexType>
</xs:schema>